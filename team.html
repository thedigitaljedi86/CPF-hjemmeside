<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>CBS Personal Finance | About Us</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<script defer src="https://webanalytics.digitaljedi.dk/script.js"
		data-website-id="7fa0927d-5461-4f3d-80f8-365d4a948c18"></script>
</head>

<body class="is-preload">

	<!-- Page Wrapper -->
	<div id="page-wrapper">

		<div id="header-container"></div>
		<script src="assets/js/header-loader.js"></script>

		<!-- Wrapper -->
		<section id="wrapper">
			<header class="team-header">
				<div class="inner">
					<h2 id="header-headline"></h2>
					<p id="header-text"></p>
				</div>
			</header>

			<!-- Content -->
			<div class="wrapper">
				<div class="inner">
					<h3 class="major" id="subheader-headline"></h3>
					<p id="subheader-text"></p>
				</div>
			</div>
			<div id="team-sections">
				<section id="join" class="wrapper spotlight style2">
					<div class="inner">
						<a id="join-image-wrapper" href="#" class="image"><img id="join-image" src="" alt="" /></a>
						<div class="content">
							<h2 class="major" id="join-headline"></h2>
							<p id="join-text"></p>
							<a id="join-button" href="" class="special"></a>
						</div>
					</div>
				</section>
			</div>

		</section>
		<!-- Footer -->
		<div id="footer-container"></div>
		<script type="module" src="assets/js/footer-loader.js"></script>
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script type="module">
		import { getSortedEntriesByTag, asHttpsUrl, getEntries } from "./assets/js/contentfull.js";

		const team = await getEntries('team');

		// Eksempel: hent en bestemt entry pÃ¥ ID
		insertHeaderContent(team);
		insertSubHeaderContent(team);
		insertJoinContent(team);

		function insertHeaderContent(team) {
			const header = team.get("1BiDvAbvw5USAeU3GDMrK9")?.fields;

			document.getElementById("header-headline").innerHTML = header?.headline;
			document.getElementById("header-text").innerHTML = header?.text;
		}

		function insertSubHeaderContent(team) {
			const header = team.get("6R1HceYb2xdcNBWWWjURIk")?.fields;

			document.getElementById("subheader-headline").innerHTML = header?.headline;
			document.getElementById("subheader-text").innerHTML = header?.text;
		}

		function insertJoinContent(team) {
			const join = team.get("5ilUJZYHOO88KQvIa6VI4W")?.fields;

			document.getElementById("join-headline").innerHTML = join?.headline;
			document.getElementById("join-text").innerHTML = join?.text?.content[0]?.content[0]?.value;
			document.getElementById("join-button").innerHTML = join?.button;
			document.getElementById("join-button").setAttribute("href", join?.link);

			if (join?.image?.fields?.file?.url) {
				document.getElementById("join-image").setAttribute("src", asHttpsUrl(join?.image.fields.file.url));
			}
			else {
				document.getElementById("join-image-wrapper").style.display = "none";
			}
		}


		const members = await getSortedEntriesByTag('team', 'fields.sortOrder');
		const container = document.getElementById('team-sections');

		const styles = ['style2', 'style3', 'style1'];

		members.forEach((member, index) => {
			const fields = member.fields;
			const style = styles[index % styles.length];

			const section = document.createElement('section');
			section.className = `wrapper${index % 2 !== 0 ? ' alt' : ''} spotlight ${style}`;

			const inner = document.createElement('div');
			inner.className = 'inner';

			// Image
			const imgWrapper = document.createElement('a');
			imgWrapper.className = 'image';
			const img = document.createElement('img');
			img.src = asHttpsUrl(fields.image?.fields?.file?.url);
			img.alt = '';
			imgWrapper.appendChild(img);
			inner.appendChild(imgWrapper);

			// Content
			const content = document.createElement('div');
			content.className = 'content';

			const h2 = document.createElement('h2');
			h2.className = 'major';

			if (fields.team) {
				h2.textContent = fields.name;
				const p = document.createElement('p');
				p.textContent = fields.description;
				content.appendChild(h2);
				content.appendChild(p);
			} else {
				const linkedInIcon = `<a target="_blank" href="${fields.linkedIn}" class="linked-in brands icon fa-linkedin"></a>`;
				h2.innerHTML = `${fields.name}${linkedInIcon}`;
				const h3 = document.createElement('h3');
				h3.textContent = fields.description;
				content.appendChild(h2);
				content.appendChild(h3);
			}

			inner.appendChild(content);
			section.appendChild(inner);
			container.insertBefore(section, document.getElementById("join"));
		});

		const n = members.length;
		const join = document.getElementById("join");
		join.className = `wrapper${n % 2 !== 0 ? ' alt' : ''} spotlight ${styles[n % styles.length]}`;
	</script>
</body>

</html>