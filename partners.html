<!DOCTYPE HTML>
<!--
	Solid State by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
	<title>CBS Personal Finance | Our Partners</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<script defer src="https://webanalytics.digitaljedi.dk/script.js"
		data-website-id="7fa0927d-5461-4f3d-80f8-365d4a948c18"></script>
</head>

<body class="is-preload">

	<!-- Page Wrapper -->
	<div id="page-wrapper">

		<!-- Header -->
		<header id="header">
			<h1>
				<a href="index.html">
					<img src="images/white_logo.png" alt="" />
					CBS Personal Finance
				</a>
			</h1>
			<nav>
				<a href="#menu">Menu</a>
			</nav>
		</header>

		<!-- Menu -->
		<nav id="menu">
			<div class="inner">
				<h2>Menu</h2>
				<ul class="links">
					<li class="has-submenu">
						<a href="#" class="submenu-toggle" aria-expanded="false">About Us</a>
						<ul class="submenu">
							<li><a href="what.html">What is CBS Personal Finance?</a></li>
							<li><a href="team.html">The Team</a></li>
						</ul>
					</li>
					<li><a href="partners.html">Our Partners</a></li>
					<li><a href="events.html">Events</a></li>
					<li><a href="join.html">Join The Team</a></li>
				</ul>
				<a href="#" class="close">Close</a>
			</div>
		</nav>

		<!-- Wrapper -->
		<section id="wrapper">
			<header class="partners-header">
				<div class="inner">
					<h2 id="header-headline"></h2>
					<p id="header-text"></p>
				</div>
			</header>
			<section id="wrapper">
				<section id="one" class="wrapper spotlight style1">
					<div class="inner">
						<div class="content">
							<h2 id="pi-headline" class="major"></h2>
							<div id="pi-logos" class="partners"></div>
						</div>
					</div>
				</section>
				<section id="two" class="wrapper alt spotlight style2">
					<div class="inner">
						<div class="content">
							<h2 id="pf-headline" class="major"></h2>
							<div id="pf-logos" class="partners"></div>
						</div>
					</div>
				</section>
			</section>
		</section>

		<!-- Footer -->
		<section id="footer">
			<iframe src="./shared/footer.html" width="100%" frameborder="0" scrolling="no" id="footerFrame"></iframe>
		</section>
		<script>
			// Dynamisk højde: Forudsætter at /footer.html sender sin højde via postMessage
			window.addEventListener('message', function (event) {
				if (event.data && event.data.footerHeight) {
					document.getElementById('footerFrame').style.height = event.data.footerHeight + 'px';
				}
			}, false);
		</script>
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script>
		document.addEventListener('DOMContentLoaded', function () {
			var toggles = document.querySelectorAll('#menu .submenu-toggle');

			toggles.forEach(function (toggle) {
				toggle.addEventListener('click', function (e) {
					e.preventDefault();

					var li = toggle.closest('.has-submenu');
					var isOpen = li.classList.toggle('open');

					// Tilgængelighed
					toggle.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
				});
			});
		});
	</script>

		<script type="module">
		import { getEntries, asHttpsUrl } from "./assets/js/contentfull.js";

		const partners = await getEntries('partners');

		// Eksempel: hent en bestemt entry på ID
		insertPersonalFinanceContent(partners);
		insertPrivateInvestmentsContent(partners);
		insertHeaderContent(partners);
		
		function insertHeaderContent(partners) {
			const header = partners.get("5n2NTceFpuMkcwyZ4AtDwc")?.fields;
			
			document.getElementById("header-headline").innerHTML = header?.headline;
			document.getElementById("header-text").innerHTML = header?.text;
		}

		function insertPersonalFinanceContent(partners) {
			const pf = partners.get("2pcMELjmQ8lrlXHoCJAhFt")?.fields;

			document.getElementById("pf-headline").innerHTML = pf?.headline;
			
			pf?.logos.forEach(logo => {
				document.getElementById("pf-logos").appendChild(createLogoElement(logo));
			});
		}

		function insertPrivateInvestmentsContent(partners) {
			const pi = partners.get("4V8Ot1JZXZaQMS02lHQ0vo")?.fields;

			document.getElementById("pi-headline").innerHTML = pi?.headline;
			
			pi?.logos.forEach(logo => {
				document.getElementById("pi-logos").appendChild(createLogoElement(logo));
			});
		}

		function createLogoElement(logo) {
			const div = document.createElement("div");
			const img = document.createElement("img");
			img.setAttribute("src", asHttpsUrl(logo.fields.file.url));
			img.setAttribute("alt", logo.fields.title);
			div.appendChild(img);
			return div;
		}

	</script>
</body>

</html>